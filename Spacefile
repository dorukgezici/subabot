# Spacefile Docs: https://go.deta.dev/docs/spacefile/v0
v: 0
micros:
  - name: frontend
    src: ./frontend
    engine: next
    primary: true
    public: true
    dev: npm run dev
    presets:
      env:
        - name: NEXT_PUBLIC_SLACK_CLIENT_ID
          description: Slack Client ID
          default: "5582876164549.5586544881811"

  - name: backend
    src: ./backend
    engine: python3.9
    path: api
    run: uvicorn app.main:app
    dev: uvicorn app.main:app --reload
    actions:
      - id: "test"
        name: "Test"
        description: "A scheduled action test"
        trigger: "schedule"
        default_interval: "1 minute"
